!function(){let e=document.getElementById("caCustomOrderForm"),t=document.getElementById("caSubmitBtn"),a=document.getElementById("caSuccessMessage"),s=document.getElementById("caToast"),n=document.getElementById("caToastMessage"),r=document.getElementById("caToastClose"),c=document.getElementById("caReadMoreBtn"),l=document.getElementById("caProcessModal"),o=document.getElementById("caCloseModal"),i="cultureAisleFormSubmitted";function d(e,t){let a=document.getElementById(e),s=document.getElementById(e+"Error");a.classList.add("error"),s&&(s.textContent=t,s.classList.add("show"))}function m(e){let t=document.getElementById(e),a=document.getElementById(e+"Error");t.classList.remove("error"),a&&a.classList.remove("show")}function u(e,t="success"){s.className=`ca-toast ${t} show`,n.textContent=e,setTimeout(()=>{s.classList.remove("show")},5e3)}async function y(s){if(s.preventDefault(),!function e(){var t,a;["caFirstName","caLastName","caEmail","caPhone","caProjectType","caMessage"].forEach(m);let s=!0,n=document.getElementById("caFirstName").value.trim(),r=document.getElementById("caLastName").value.trim(),c=document.getElementById("caEmail").value.trim(),l=document.getElementById("caPhone").value.trim(),o=document.getElementById("caProjectType").value,i=document.getElementById("caMessage").value.trim();return(n||(d("caFirstName","Please enter your first name"),s=!1),r||(d("caLastName","Please enter your last name"),s=!1),c)?(t=c,!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)&&(d("caEmail","Please enter a valid email address"),s=!1)):(d("caEmail","Please enter your email address"),s=!1),l?(a=l,!/^[0-9+\-\s()]{10,}$/.test(a)&&(d("caPhone","Please enter a valid phone number"),s=!1)):(d("caPhone","Please enter your phone number"),s=!1),o||(d("caProjectType","Please select a project type"),s=!1),i?i.length<20&&(d("caMessage","Please provide more details (at least 20 characters)"),s=!1):(d("caMessage","Please describe your custom creation idea"),s=!1),s}()){u("Please fix the errors in the form","error");return}t.disabled=!0,t.textContent="Sending...";let n=new FormData(e);n.append("access_key","e26038b6-f748-4bf0-af9e-50406b9e4d46"),n.append("subject","New Custom Order Request - Culture Aisle India"),n.append("from_name","Culture Aisle India Website");try{let r=await fetch("https://api.web3forms.com/submit",{method:"POST",body:n}),c=await r.json();if(c.success)localStorage.setItem(i,"true"),e.style.display="none",a.classList.add("show"),u("Your enquiry has been submitted successfully!","success"),e.reset();else throw Error(c.message||"Submission failed")}catch(l){console.error("Form submission error:",l),u("Something went wrong. Please try again or contact us directly.","error"),t.disabled=!1,t.textContent="Send Enquiry"}}function E(){l.classList.remove("active"),document.body.style.overflow="auto"}e&&e.addEventListener("submit",y),c&&c.addEventListener("click",function e(){l.classList.add("active"),document.body.style.overflow="hidden"}),o&&o.addEventListener("click",E),r&&r.addEventListener("click",()=>s.classList.remove("show")),l&&l.addEventListener("click",e=>{e.target===l&&E()}),["caFirstName","caLastName","caEmail","caPhone","caProjectType","caMessage"].forEach(e=>{let t=document.getElementById(e);t&&(t.addEventListener("input",()=>m(e)),t.addEventListener("change",()=>m(e)))}),function t(){let s=localStorage.getItem(i);"true"===s&&(e.style.display="none",a.classList.add("show"))}()}();