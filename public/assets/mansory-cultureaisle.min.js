const base="https://www.earthenwallplates.com/wp-content/uploads/",wallImages=["2022/01/BWA06.jpeg","2020/02/BWANEW13.jpg","2022/01/BWA21.jpeg","2022/01/BWA07.jpeg","2020/02/BWANEW8.jpg","2020/04/WhatsApp-Image-2020-04-02-at-18.35.16.jpeg","2020/02/BWANEW15.jpg","2020/02/BWANEW12.jpg","2022/01/BWA28.jpeg","2020/02/BWANEW16.jpg","2022/01/BWA05.jpeg","2022/01/BWA20.jpeg","2022/01/BWA22.jpeg","2022/01/BWA27.jpeg","2020/02/BWANEW10.jpg","2022/01/BWA02.jpeg","2022/01/BWA32.jpeg","2022/01/BWA16.jpeg","2020/02/BWANEW11.jpg","2020/02/BWANEW14.jpg","2020/02/BWANEW18.jpg","2022/01/BWA08.jpeg","2022/01/BWA18.jpeg","2020/02/BWANEW4.jpg","2022/01/BWA31.jpeg","2022/01/BWA23.jpeg","2022/01/BWA14.jpeg","2022/01/BWA13.jpeg","2022/01/BWA17.jpeg","2020/02/BWANEW28.jpg","2020/04/WhatsApp-Image-2020-04-02-at-18.36.53.jpeg","2020/02/BWANEW26.jpg","2022/01/BWA19.jpeg","2022/01/BWA25.jpeg","2022/01/BWA30.jpeg","2022/01/BWA26.jpeg","2022/01/BWA33.jpeg","2022/01/BWA11.jpeg","2020/02/BWANEW23.png","2020/02/BWANEW21.jpg","2022/01/BWA29.jpeg","2020/02/BWANEW22.png","2020/02/BWANEW17.jpg","2020/02/BWANEW24.jpg","2022/01/BWA03.jpeg","2020/02/BWANEW27.jpg","2020/02/BWANEW25.jpg","2022/01/BWA04.jpeg","2022/01/BWA12.jpeg","2022/01/BWA01.jpg","2022/01/BWA10.jpeg","2020/02/BWANEW7.jpg","2020/02/BWANEW5.jpg","2020/02/BWANEW6.jpg","2022/01/BWA15.jpeg","2022/01/BWA24.jpeg","2022/01/BWA09.jpeg","2020/02/BWANEW9.jpg","2020/02/BWANEW3.jpg","2020/02/BWANEW20.png","2020/02/BWANEW19.png","2020/02/BWANEW2.jpg","2020/02/BWANEW1.jpg"].map(e=>"https://www.earthenwallplates.com/wp-content/uploads/"+e),wall=document.getElementById("clientsWall"),modal=document.getElementById("modal"),modalImage=document.getElementById("modalImage"),imageWrapper=document.getElementById("imageWrapper"),closeBtn=document.getElementById("closeBtn"),moreBtn=document.getElementById("moreBtn"),dropdownMenu=document.getElementById("dropdownMenu"),downloadBtn=document.getElementById("downloadBtn"),pinBtn=document.getElementById("pinBtn"),similarGrid=document.getElementById("similarGrid"),paginationPills=document.getElementById("paginationPills");let currentImageIndex=0,touchStartX=0,touchEndX=0,autoplayTimer=null,autoplayInterval=3e3;function createPills(){paginationPills.innerHTML="";let e=wallImages.length;if(e<=8)wallImages.forEach((e,a)=>{createPill(a)});else{let a=Math.floor(4);if(currentImageIndex<a){for(let l=0;l<7;l++)createPill(l);paginationPills.innerHTML+='<span class="pill-ellipsis"></span>'}else if(currentImageIndex>=e-a){paginationPills.innerHTML+='<span class="pill-ellipsis"></span>';for(let t=e-7;t<e;t++)createPill(t)}else{paginationPills.innerHTML+='<span class="pill-ellipsis"></span>';let n=currentImageIndex-Math.floor(3),i=n+6;for(let s=n;s<i;s++)createPill(s);paginationPills.innerHTML+='<span class="pill-ellipsis"></span>'}}}function createPill(e){let a=document.createElement("div");a.className="pill",a.dataset.index=e,e===currentImageIndex&&a.classList.add("active"),a.innerHTML='<div class="pill-fill"></div>',a.addEventListener("click",()=>{stopAutoplay(),openModal(e),startAutoplay()}),paginationPills.appendChild(a)}function updatePills(){createPills();let e=paginationPills.querySelectorAll(".pill");e.forEach(e=>{let a=parseInt(e.dataset.index),l=e.querySelector(".pill-fill");l.style.animation="none",a===currentImageIndex&&(e.classList.add("active"),setTimeout(()=>{l.style.animation="fillPill 3s linear forwards"},10))})}function startAutoplay(){stopAutoplay(),autoplayTimer=setTimeout(()=>{let e=(currentImageIndex+1)%wallImages.length;navigateToImage(e,"left")},autoplayInterval)}function stopAutoplay(){autoplayTimer&&(clearTimeout(autoplayTimer),autoplayTimer=null)}function navigateToImage(e,a){"left"===a?modalImage.classList.add("swipe-left"):modalImage.classList.add("swipe-right"),setTimeout(()=>{currentImageIndex=e,modalImage.src=wallImages[e],modalImage.classList.remove("swipe-left","swipe-right"),updatePills(),loadSimilarImages(e),startAutoplay()},300)}function openModal(e){currentImageIndex=e,modalImage.src=wallImages[e],modal.classList.add("active"),document.body.style.overflow="hidden",createPills(),loadSimilarImages(e),startAutoplay(),modal.scrollTop=0}function closeModal(){modal.classList.remove("active"),document.body.style.overflow="auto",dropdownMenu.classList.remove("active"),stopAutoplay()}function loadSimilarImages(e){similarGrid.innerHTML="";let a=[];for(;a.length<12;){let l=Math.floor(Math.random()*wallImages.length);l===e||a.includes(l)||a.push(l)}a.forEach(e=>{let a=document.createElement("div");a.className="similar-item",a.innerHTML=`<img src="${wallImages[e]}" alt="Similar Wall Decor">`,a.addEventListener("click",()=>{stopAutoplay(),navigateToImage(e,currentImageIndex<e?"left":"right")}),similarGrid.appendChild(a)})}function handleSwipe(){let e=touchStartX-touchEndX;if(Math.abs(e)>50){if(e>0){let a=(currentImageIndex+1)%wallImages.length;navigateToImage(a,"left")}else{let l=(currentImageIndex-1+wallImages.length)%wallImages.length;navigateToImage(l,"right")}}else startAutoplay()}wallImages.forEach((e,a)=>{let l=document.createElement("div");l.className="wall-item",l.innerHTML=`
        <img src="${e}" loading="lazy" alt="Client Wall Decor">
        <div class="item-overlay"></div>
      `,l.addEventListener("click",()=>openModal(a)),wall.appendChild(l)}),moreBtn.addEventListener("click",e=>{e.stopPropagation(),dropdownMenu.classList.toggle("active")}),downloadBtn.addEventListener("click",async()=>{try{let e=await fetch(wallImages[currentImageIndex]),a=await e.blob(),l=window.URL.createObjectURL(a),t=document.createElement("a");t.href=l,t.download=`wall-decor-${currentImageIndex+1}.jpg`,document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(l),document.body.removeChild(t),dropdownMenu.classList.remove("active")}catch(n){console.error("Download failed:",n),alert("Download failed. Please try again.")}}),pinBtn.addEventListener("click",()=>{alert("Image pinned! \uD83D\uDCCC"),dropdownMenu.classList.remove("active")}),closeBtn.addEventListener("click",closeModal),imageWrapper.addEventListener("touchstart",e=>{touchStartX=e.changedTouches[0].screenX,stopAutoplay()},{passive:!0}),imageWrapper.addEventListener("touchend",e=>{touchEndX=e.changedTouches[0].screenX,handleSwipe()},{passive:!0}),document.addEventListener("click",e=>{moreBtn.contains(e.target)||dropdownMenu.contains(e.target)||dropdownMenu.classList.remove("active")}),document.addEventListener("keydown",e=>{if(modal.classList.contains("active")){if("Escape"===e.key)closeModal();else if("ArrowRight"===e.key){stopAutoplay();let a=(currentImageIndex+1)%wallImages.length;navigateToImage(a,"left")}else if("ArrowLeft"===e.key){stopAutoplay();let l=(currentImageIndex-1+wallImages.length)%wallImages.length;navigateToImage(l,"right")}}}),modal.addEventListener("mousedown",stopAutoplay),modal.addEventListener("touchstart",stopAutoplay);